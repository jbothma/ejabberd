%% -*- mode: erlang;erlang-indent-level: 4;indent-tabs-mode: nil -*-

{hosts, "[\"localhost\", \"anonymous.localhost\"]"}.
{host_config, "{host_config, \"anonymous.localhost\", [{auth_method, anonymous},
                                       {allow_multiple_connections, true},
                                       {anonymous_protocol, both}]}." }.
{outgoing_s2s_port, 5279}.
{odbc_server, "{odbc_server, {mysql, \"localhost\", \"ejabberd\", \"ejabberd\", \"%ODBC_PASSWORD%\"}}."}.
{s2s_default_policy, allow}.
{node_name, "ejabberd@localhost"}.
{ejabberd_c2s_port, 5222}.
{ejabberd_s2s_in_port, 5269}.
{tls_config, "{certfile, \"/tmp/localhost.pem\"}, starttls,"}.
{s2s_addr,
"{ {s2s_addr, \"localhost2\"}, {127,0,0,1} }.
{ {s2s_addr, \"micha≈Ç\"}, {127,0,0,1} }.
{ {s2s_addr, \"domain.not.in.cert\"}, {127,0,0,1} }."}.


{listen_no_tls,
 ",{5224, ejabberd_c2s, [{access, c2s}]}"}.
{listen_starttls_optional,
 ",{5225, ejabberd_c2s, [{access, c2s},
                         {certfile, \"/tmp/server.pem\"},
                         starttls]}"}.
{listen_starttls_required,
 ",{5226, ejabberd_c2s, [{access, c2s},
                         {certfile, \"/tmp/server.pem\"},
                         starttls_required]}"}.

{s2s_use_starttls, "{s2s_use_starttls, required_trusted}."}.
{s2s_tls, "{s2s_use_starttls, required_trusted}."}.
{domain_certfile, "{domain_certfile, \"/tmp/localhost.pem\"}."}.
{cacertfile, "{cacertfile, \"/tmp/ca.crt\"}."}.
